{"version":3,"file":"plugin.js","sourceRoot":"","sources":["../../../src/@ionic-native/core/plugin.ts"],"names":[],"mappings":"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","sourcesContent":["import { Observable } from 'rxjs/Observable';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\n\nimport { checkReady } from './bootstrap';\nimport { CordovaOptions } from './decorators';\nimport { cordovaWarn, getPlugin, getPromise, pluginWarn } from './util';\n\ncheckReady();\n\n// declare const window;\n// declare var Promise;\n\nexport const ERR_CORDOVA_NOT_AVAILABLE = { error: 'cordova_not_available' };\nexport const ERR_PLUGIN_NOT_INSTALLED = { error: 'plugin_not_installed' };\n\n/**\n * Checks if plugin/cordova is available\n * @return {boolean | { error: string } }\n * @private\n */\nexport function checkAvailability(\n  pluginRef: string,\n  methodName?: string,\n  pluginName?: string\n): boolean | { error: string };\nexport function checkAvailability(\n  pluginObj: any,\n  methodName?: string,\n  pluginName?: string\n): boolean | { error: string };\nexport function checkAvailability(\n  plugin: any,\n  methodName?: string,\n  pluginName?: string\n): boolean | { error: string } {\n  let pluginRef, pluginInstance, pluginPackage;\n\n  if (typeof plugin === 'string') {\n    pluginRef = plugin;\n  } else {\n    pluginRef = plugin.constructor.getPluginRef();\n    pluginName = plugin.constructor.getPluginName();\n    pluginPackage = plugin.constructor.getPluginInstallName();\n  }\n\n  pluginInstance = getPlugin(pluginRef);\n\n  if (\n    !pluginInstance ||\n    (!!methodName && typeof pluginInstance[methodName] === 'undefined')\n  ) {\n    if (!window.cordova) {\n      cordovaWarn(pluginName, methodName);\n      return ERR_CORDOVA_NOT_AVAILABLE;\n    }\n\n    pluginWarn(pluginName, pluginPackage, methodName);\n    return ERR_PLUGIN_NOT_INSTALLED;\n  }\n\n  return true;\n}\n\n/**\n * Checks if _objectInstance exists and has the method/property\n * @private\n */\nexport function instanceAvailability(\n  pluginObj: any,\n  methodName?: string\n): boolean {\n  return (\n    pluginObj._objectInstance &&\n    (!methodName ||\n      typeof pluginObj._objectInstance[methodName] !== 'undefined')\n  );\n}\n\nfunction setIndex(\n  args: any[],\n  opts: any = {},\n  resolve?: Function,\n  reject?: Function\n): any {\n  // ignore resolve and reject in case sync\n  if (opts.sync) {\n    return args;\n  }\n\n  // If the plugin method expects myMethod(success, err, options)\n  if (opts.callbackOrder === 'reverse') {\n    // Get those arguments in the order [resolve, reject, ...restOfArgs]\n    args.unshift(reject);\n    args.unshift(resolve);\n  } else if (opts.callbackStyle === 'node') {\n    args.push((err: any, result: any) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(result);\n      }\n    });\n  } else if (\n    opts.callbackStyle === 'object' &&\n    opts.successName &&\n    opts.errorName\n  ) {\n    let obj: any = {};\n    obj[opts.successName] = resolve;\n    obj[opts.errorName] = reject;\n    args.push(obj);\n  } else if (\n    typeof opts.successIndex !== 'undefined' ||\n    typeof opts.errorIndex !== 'undefined'\n  ) {\n    const setSuccessIndex = () => {\n      // If we've specified a success/error index\n      if (opts.successIndex > args.length) {\n        args[opts.successIndex] = resolve;\n      } else {\n        args.splice(opts.successIndex, 0, resolve);\n      }\n    };\n\n    const setErrorIndex = () => {\n      // We don't want that the reject cb gets spliced into the position of an optional argument that has not been defined and thus causing non expected behaviour.\n      if (opts.errorIndex > args.length) {\n        args[opts.errorIndex] = reject; // insert the reject fn at the correct specific index\n      } else {\n        args.splice(opts.errorIndex, 0, reject); // otherwise just splice it into the array\n      }\n    };\n\n    if (opts.successIndex > opts.errorIndex) {\n      setErrorIndex();\n      setSuccessIndex();\n    } else {\n      setSuccessIndex();\n      setErrorIndex();\n    }\n  } else {\n    // Otherwise, let's tack them on to the end of the argument list\n    // which is 90% of cases\n    args.push(resolve);\n    args.push(reject);\n  }\n  return args;\n}\n\nfunction callCordovaPlugin(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {},\n  resolve?: Function,\n  reject?: Function\n) {\n  // Try to figure out where the success/error callbacks need to be bound\n  // to our promise resolve/reject handlers.\n  args = setIndex(args, opts, resolve, reject);\n\n  const availabilityCheck = checkAvailability(pluginObj, methodName);\n\n  if (availabilityCheck === true) {\n    const pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n    return pluginInstance[methodName].apply(pluginInstance, args);\n  } else {\n    return availabilityCheck;\n  }\n}\n\nfunction wrapPromise(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {}\n) {\n  let pluginResult: any, rej: Function;\n  const p = getPromise((resolve: Function, reject: Function) => {\n    if (opts.destruct) {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        (...args: any[]) => resolve(args),\n        (...args: any[]) => reject(args)\n      );\n    } else {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        resolve,\n        reject\n      );\n    }\n    rej = reject;\n  });\n  // Angular throws an error on unhandled rejection, but in this case we have already printed\n  // a warning that Cordova is undefined or the plugin is uninstalled, so there is no reason\n  // to error\n  if (pluginResult && pluginResult.error) {\n    p.catch(() => {});\n    typeof rej === 'function' && rej(pluginResult.error);\n  }\n  return p;\n}\n\nfunction wrapOtherPromise(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {}\n) {\n  return getPromise((resolve: Function, reject: Function) => {\n    const pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts);\n    if (pluginResult) {\n      if (pluginResult.error) {\n        reject(pluginResult.error);\n      } else if (pluginResult.then) {\n        pluginResult.then(resolve).catch(reject);\n      }\n    } else {\n      reject({ error: 'unexpected_error' });\n    }\n  });\n}\n\nfunction wrapObservable(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {}\n) {\n  return new Observable(observer => {\n    let pluginResult;\n\n    if (opts.destruct) {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        (...args: any[]) => observer.next(args),\n        (...args: any[]) => observer.error(args)\n      );\n    } else {\n      pluginResult = callCordovaPlugin(\n        pluginObj,\n        methodName,\n        args,\n        opts,\n        observer.next.bind(observer),\n        observer.error.bind(observer)\n      );\n    }\n\n    if (pluginResult && pluginResult.error) {\n      observer.error(pluginResult.error);\n      observer.complete();\n    }\n    return () => {\n      try {\n        if (opts.clearFunction) {\n          if (opts.clearWithArgs) {\n            return callCordovaPlugin(\n              pluginObj,\n              opts.clearFunction,\n              args,\n              opts,\n              observer.next.bind(observer),\n              observer.error.bind(observer)\n            );\n          }\n          return callCordovaPlugin(pluginObj, opts.clearFunction, []);\n        }\n      } catch (e) {\n        console.warn(\n          'Unable to clear the previous observable watch for',\n          pluginObj.constructor.getPluginName(),\n          methodName\n        );\n        console.warn(e);\n      }\n    };\n  });\n}\n\nfunction callInstance(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {},\n  resolve?: Function,\n  reject?: Function\n) {\n  args = setIndex(args, opts, resolve, reject);\n\n  if (instanceAvailability(pluginObj, methodName)) {\n    return pluginObj._objectInstance[methodName].apply(\n      pluginObj._objectInstance,\n      args\n    );\n  }\n}\n\n/**\n * Wrap the event with an observable\n * @private\n * @param event even name\n * @param element The element to attach the event listener to\n * @returns {Observable}\n */\nexport function wrapEventObservable(\n  event: string,\n  element: any = window\n): Observable<any> {\n  return fromEvent(element, event);\n}\n\n/**\n * Certain plugins expect the user to override methods in the plugin. For example,\n * window.cordova.plugins.backgroundMode.onactivate = function() { ... }.\n *\n * Unfortunately, this is brittle and would be better wrapped as an Observable. overrideFunction\n * does just this.\n * @private\n */\nexport function overrideFunction(\n  pluginObj: any,\n  methodName: string,\n  args: any[],\n  opts: any = {}\n): Observable<any> {\n  return new Observable(observer => {\n    const availabilityCheck = checkAvailability(\n      pluginObj,\n      null,\n      pluginObj.constructor.getPluginName()\n    );\n\n    if (availabilityCheck === true) {\n      const pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n      pluginInstance[methodName] = observer.next.bind(observer);\n      return () => (pluginInstance[methodName] = () => {});\n    } else {\n      observer.error(availabilityCheck);\n      observer.complete();\n    }\n  });\n}\n\n/**\n * @private\n */\nexport const wrap = function(\n  pluginObj: any,\n  methodName: string,\n  opts: CordovaOptions = {}\n) {\n  return (...args: any[]) => {\n    if (opts.sync) {\n      // Sync doesn't wrap the plugin with a promise or observable, it returns the result as-is\n      return callCordovaPlugin(pluginObj, methodName, args, opts);\n    } else if (opts.observable) {\n      return wrapObservable(pluginObj, methodName, args, opts);\n    } else if (opts.eventObservable && opts.event) {\n      return wrapEventObservable(opts.event, opts.element);\n    } else if (opts.otherPromise) {\n      return wrapOtherPromise(pluginObj, methodName, args, opts);\n    } else {\n      return wrapPromise(pluginObj, methodName, args, opts);\n    }\n  };\n};\n\n/**\n * @private\n */\nexport function wrapInstance(\n  pluginObj: any,\n  methodName: string,\n  opts: any = {}\n) {\n  return (...args: any[]) => {\n    if (opts.sync) {\n      return callInstance(pluginObj, methodName, args, opts);\n    } else if (opts.observable) {\n      return new Observable(observer => {\n        let pluginResult;\n\n        if (opts.destruct) {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            (...args: any[]) => observer.next(args),\n            (...args: any[]) => observer.error(args)\n          );\n        } else {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            observer.next.bind(observer),\n            observer.error.bind(observer)\n          );\n        }\n\n        if (pluginResult && pluginResult.error) {\n          observer.error(pluginResult.error);\n          observer.complete();\n        }\n\n        return () => {\n          try {\n            if (opts.clearWithArgs) {\n              return callInstance(\n                pluginObj,\n                opts.clearFunction,\n                args,\n                opts,\n                observer.next.bind(observer),\n                observer.error.bind(observer)\n              );\n            }\n            return callInstance(pluginObj, opts.clearFunction, []);\n          } catch (e) {\n            console.warn(\n              'Unable to clear the previous observable watch for',\n              pluginObj.constructor.getPluginName(),\n              methodName\n            );\n            console.warn(e);\n          }\n        };\n      });\n    } else if (opts.otherPromise) {\n      return getPromise((resolve: Function, reject: Function) => {\n        let result;\n        if (opts.destruct) {\n          result = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            (...args: any[]) => resolve(args),\n            (...args: any[]) => reject(args)\n          );\n        } else {\n          result = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            resolve,\n            reject\n          );\n        }\n        if (result && !!result.then) {\n          result.then(resolve, reject);\n        } else {\n          reject();\n        }\n      });\n    } else {\n      let pluginResult: any, rej: Function;\n      const p = getPromise((resolve: Function, reject: Function) => {\n        if (opts.destruct) {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            (...args: any[]) => resolve(args),\n            (...args: any[]) => reject(args)\n          );\n        } else {\n          pluginResult = callInstance(\n            pluginObj,\n            methodName,\n            args,\n            opts,\n            resolve,\n            reject\n          );\n        }\n        rej = reject;\n      });\n      // Angular throws an error on unhandled rejection, but in this case we have already printed\n      // a warning that Cordova is undefined or the plugin is uninstalled, so there is no reason\n      // to error\n      if (pluginResult && pluginResult.error) {\n        p.catch(() => {});\n        typeof rej === 'function' && rej(pluginResult.error);\n      }\n      return p;\n    }\n  };\n}\n"]}